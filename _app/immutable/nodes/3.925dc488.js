import{s as K,n as F,r as Q}from"../chunks/scheduler.fb1cce36.js";import{S as X,i as Y,g as i,s as y,h as u,j as I,c as k,x as T,f as L,k as t,a as J,y as a,z as U,A as q,B as Z}from"../chunks/index.4975a6a8.js";import{C as $,a as ee,b as te,g as se}from"../chunks/store.b04afae3.js";import{b as ae}from"../chunks/paths.be118a62.js";function G(v){let s,r='<svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg> <span>Wrong accessToken or reverseProxyUrl</span>';return{c(){s=i("div"),s.innerHTML=r,this.h()},l(l){s=u(l,"DIV",{class:!0,"data-svelte-h":!0}),T(s)!=="svelte-j8kqsn"&&(s.innerHTML=r),this.h()},h(){t(s,"class","alert alert-warning")},m(l,e){J(l,s,e)},d(l){l&&L(s)}}}function re(v){let s,r,l,e,c,d,M='<span class="text-base label-text">Access Token</span>',C,o,P,m,z="Want to find access token?",D,b,x,O='<span class="text-base label-text">API Reverse Proxy URL</span>',R,p,V,_,S="Other reverse proxies?",j,w,N='<button type="submit" class="btn btn-block">Login</button>',B,W,n=v[2]&&G();return{c(){s=i("div"),r=i("div"),n&&n.c(),l=y(),e=i("form"),c=i("div"),d=i("label"),d.innerHTML=M,C=y(),o=i("input"),P=y(),m=i("a"),m.textContent=z,D=y(),b=i("div"),x=i("label"),x.innerHTML=O,R=y(),p=i("input"),V=y(),_=i("a"),_.textContent=S,j=y(),w=i("div"),w.innerHTML=N,this.h()},l(h){s=u(h,"DIV",{class:!0});var g=I(s);r=u(g,"DIV",{class:!0});var A=I(r);n&&n.l(A),l=k(A),e=u(A,"FORM",{class:!0});var f=I(e);c=u(f,"DIV",{});var E=I(c);d=u(E,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),T(d)!=="svelte-r1mwjb"&&(d.innerHTML=M),C=k(E),o=u(E,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),E.forEach(L),P=k(f),m=u(f,"A",{href:!0,target:!0,class:!0,"data-svelte-h":!0}),T(m)!=="svelte-yqkgrl"&&(m.textContent=z),D=k(f),b=u(f,"DIV",{});var H=I(b);x=u(H,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),T(x)!=="svelte-1lawf6o"&&(x.innerHTML=O),R=k(H),p=u(H,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),H.forEach(L),V=k(f),_=u(f,"A",{href:!0,target:!0,class:!0,"data-svelte-h":!0}),T(_)!=="svelte-ou6rut"&&(_.textContent=S),j=k(f),w=u(f,"DIV",{"data-svelte-h":!0}),T(w)!=="svelte-1on90zp"&&(w.innerHTML=N),f.forEach(L),A.forEach(L),g.forEach(L),this.h()},h(){t(d,"class","label"),t(d,"for","token"),t(o,"id","token"),t(o,"type","text"),t(o,"placeholder","Enter OpenAI Access Token"),t(o,"class","w-full input input-bordered"),t(m,"href","https://chat.openai.com/api/auth/session"),t(m,"target","_blank"),t(m,"class","text-xs text-gray-600 hover:underline hover:text-blue-600"),t(x,"class","label"),t(x,"for","proxy"),t(p,"id","proxy"),t(p,"type","text"),t(p,"placeholder","Enter Reverse Proxy URL"),t(p,"class","w-full input input-bordered"),t(_,"href","https://github.com/transitive-bullshit/chatgpt-api#reverse-proxy"),t(_,"target","_blank"),t(_,"class","text-xs text-gray-600 hover:underline hover:text-blue-600"),t(e,"class","space-y-4"),t(r,"class","w-full p-6 m-auto rounded-md shadow-md ring-2 ring-gray-800/50 lg:max-w-lg"),t(s,"class","relative flex flex-col justify-center h-full overflow-hidden")},m(h,g){J(h,s,g),a(s,r),n&&n.m(r,null),a(r,l),a(r,e),a(e,c),a(c,d),a(c,C),a(c,o),U(o,v[0]),a(e,P),a(e,m),a(e,D),a(e,b),a(b,x),a(b,R),a(b,p),U(p,v[1]),a(e,V),a(e,_),a(e,j),a(e,w),B||(W=[q(o,"input",v[4]),q(p,"input",v[5]),q(e,"submit",Z(v[3]))],B=!0)},p(h,[g]){h[2]?n||(n=G(),n.c(),n.m(r,l)):n&&(n.d(1),n=null),g&1&&o.value!==h[0]&&U(o,h[0]),g&2&&p.value!==h[1]&&U(p,h[1])},i:F,o:F,d(h){h&&L(s),n&&n.d(),B=!1,Q(W)}}}function le(v,s,r){let l,e="https://ai.fakeopen.com/api/conversation",c=!1;function d(){try{new $({accessToken:l,apiReverseProxyUrl:e}).sendMessage("LTP login").then(()=>{ee.set(l),te.set(e),se(ae+"/")}).catch(P=>{console.log(P),r(2,c=!0)})}catch(o){console.log(o),r(2,c=!0)}}function M(){l=this.value,r(0,l)}function C(){e=this.value,r(1,e)}return[l,e,c,d,M,C]}class ce extends X{constructor(s){super(),Y(this,s,le,re,K,{})}}export{ce as component};
